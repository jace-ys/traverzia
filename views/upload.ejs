<% include templates/header %>
<link href="/stylesheets/css/upload.css" rel="stylesheet" type="text/css">

	<div class="container-fluid" id="upload">
		<div class="row">
			<% if(success && success.length) { %>
			<div class="col-lg-6 col-xs-8 col-12 mx-auto alert alert-success" role="alert">
				<%= success %>
			</div>
			<% } %>
			<% if(error && error.length) { %>
			<div class="col-lg-6 col-xs-8 col-12 mx-auto alert alert-danger" role="alert">
				<%= error %>
			</div>
			<% } %>
			<div class="mx-auto mb-4 text-center">
				<h2>Share your travels!</h2>
			</div>
			<form class="mx-auto col-lg-6 col-sm-8 col-12" action="/upload" method="POST" enctype="multipart/form-data" id="upload-form">
				<div class="form-group">
					<label>Upload</label>
					<div class="custom-file" id="source-field">
						<input class="custom-file-input" type="file" name="image" accept="image/png, image/jpeg" oninvalid="this.setCustomValidity('Please upload an image.')" oninput="this.setCustomValidity('')" required>
						<label class="custom-file-label" for="image[source]">Choose image..</label>
						<div class="invalid-feedback">Please upload an image.</div>
					</div>
				</div>
				<div class="form-group" id="location-field">
					<label for="image[location]">Location</label>
					<input class="form-control" type="text" name="image[location]" placeholder="Format: location, country" pattern="^[a-zA-Z ]*, [a-zA-Z ]*$" oninvalid="this.setCustomValidity('Please enter a valid location.')" oninput="this.setCustomValidity('')" required>
					<div class="invalid-feedback">Please enter a valid location.</div>
				</div>
				<div class="form-group" id="caption-field">
					<label for="image[caption]">Caption</label>
					<textarea class="form-control" type="text" name="image[caption]" rows="3" placeholder="Caption"></textarea>
				</div>
				<div class="text-center">
					<button type="submit" class="btn btn-outline-primary btn-lg">Upload <i class="fa fa-upload"></i></button>
				</div>
			</form>
		</div>
	</div>

<% include templates/scripts %>
	<script type="text/javascript" src="/js/upload.js"></script>
<% include templates/footer %>
